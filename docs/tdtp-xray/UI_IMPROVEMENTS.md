# UI/UX Improvements - Visual Designer

**–î–∞—Ç–∞:** 2026-02-20
**–í–µ—Ä—Å–∏—è:** Visual Designer v1.2

---

## üéØ Phase 2: UI Simplification

### 1. –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

#### –î–æ (3 –∫–Ω–æ–ø–∫–∏):
```
[AZ‚ñ≤] [ZA‚ñº] [‚ü≤]
```

#### –ü–æ—Å–ª–µ (1 –∫–Ω–æ–ø–∫–∞):
```
[‚ü≤]  ‚Üí  [AZ‚Üë]  ‚Üí  [ZA‚Üì]  ‚Üí  [‚ü≤]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –≤ toolbar
- ‚úÖ –ë–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI (–æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª)
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (—Ü–≤–µ—Ç –º–µ–Ω—è–µ—Ç—Å—è)
- ‚úÖ Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ

---

### 2. –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

| –°–æ—Å—Ç–æ—è–Ω–∏–µ | –ò–∫–æ–Ω–∫–∞ | –¶–≤–µ—Ç | Tooltip | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------|--------|------|---------|----------|
| **Original** | ‚ü≤ | #888 (—Å–µ—Ä—ã–π) | "Original order (click to sort A‚ÜíZ)" | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ |
| **A‚ÜíZ** | AZ‚Üë | #0066cc (—Å–∏–Ω–∏–π) | "Sorted A‚ÜíZ (click for Z‚ÜíA)" | –ü–æ–ª—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É |
| **Z‚ÜíA** | ZA‚Üì | #0066cc (—Å–∏–Ω–∏–π) | "Sorted Z‚ÜíA (click to reset)" | –ü–æ–ª—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ |

**–¶–∏–∫–ª:**
```
‚ü≤ (Original) ‚Üí –∫–ª–∏–∫ ‚Üí AZ‚Üë (A‚ÜíZ) ‚Üí –∫–ª–∏–∫ ‚Üí ZA‚Üì (Z‚ÜíA) ‚Üí –∫–ª–∏–∫ ‚Üí ‚ü≤ (Original)
```

---

### 3. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã:
```javascript
{
    sourceName: 'users',
    fields: [...],
    limit: null,
    offset: null,
    sortState: null  // null | 'AZ' | 'ZA'
}
```

#### –§—É–Ω–∫—Ü–∏—è cycleSortState():
```javascript
async function cycleSortState(tableIndex) {
    const table = canvasDesign.tables[tableIndex];
    const currentState = table.sortState || null;

    // Cycle: null ‚Üí AZ ‚Üí ZA ‚Üí null
    let nextState;
    if (currentState === null) {
        nextState = 'AZ';
    } else if (currentState === 'AZ') {
        nextState = 'ZA';
    } else {
        nextState = null; // Reset to original
    }

    table.sortState = nextState;

    // Apply sorting
    if (nextState === 'AZ') {
        table.fields.sort((a, b) => a.name.localeCompare(b.name));
    } else if (nextState === 'ZA') {
        table.fields.sort((a, b) => b.name.localeCompare(a.name));
    } else {
        await resetFieldSortToOriginal(tableIndex);
    }

    renderCanvas();
}
```

---

### 4. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (AND/OR)

**‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!**

–ö–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä –∏–º–µ–µ—Ç –ø–æ–ª–µ `logic: 'AND' | 'OR'`, –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –æ–Ω —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–º.

#### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–±–∏–Ω–∞—Ü–∏–π:

**–ü—Ä–∏–º–µ—Ä 1: –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è (AND)**
```sql
WHERE status = 'active'        (&)
  AND city = 'Moscow'          (&)
  AND age >= 18
```

**–ü—Ä–∏–º–µ—Ä 2: –õ—é–±–æ–µ —É—Å–ª–æ–≤–∏–µ (OR)**
```sql
WHERE level = 'ERROR'          (^)
   OR level = 'CRITICAL'       (^)
   OR level = 'FATAL'
```

**–ü—Ä–∏–º–µ—Ä 3: –°–º–µ—à–∞–Ω–Ω—ã–µ (AND + OR)**
```sql
WHERE status = 'active'        (&)
  AND (city = 'Moscow'         (^)
       OR city = 'SPb')        (&)
  AND age >= 18
```

‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–ª–æ–∂–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã (—Å–∫–æ–±–∫–∏) –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ, –Ω–æ –±–∞–∑–æ–≤–∞—è AND/OR –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç.

#### UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª–æ–≥–∏–∫–∏:
```html
Logic Operator:
[‚úì] AND (&)  ‚Äî –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è
[ ] OR (^)   ‚Äî –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä
```

**Tooltip –≤ –ø–æ–ª–µ:**
```
email LIKE '%@company.com' (&)  ‚Üê AND —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º
city IN (Moscow,SPb) (^)       ‚Üê OR —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º
```

---

### 5. –ò—Ç–æ–≥–æ–≤—ã–π toolbar

**–î–æ:**
```
[üëÅ] [5 fields] [‚ú±] [AZ‚ñ≤] [ZA‚ñº] [‚ü≤]
 ^      ^        ^    ^     ^     ^
 |      |        |    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò 3 –∫–Ω–æ–ø–∫–∏ (–∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ)
 |      |        ‚îî‚îÄ Clear filters
 |      ‚îî‚îÄ Field count
 ‚îî‚îÄ Toggle visibility
```

**–ü–æ—Å–ª–µ:**
```
[üëÅ] [5 fields] [üìä] [‚ú±] [‚ü≤]
 ^      ^        ^    ^    ^
 |      |        |    |    ‚îî‚îÄ Cyclic sort (1 –∫–Ω–æ–ø–∫–∞!)
 |      |        |    ‚îî‚îÄ Clear filters
 |      |        ‚îî‚îÄ LIMIT/OFFSET settings
 |      ‚îî‚îÄ Field count
 ‚îî‚îÄ Toggle visibility
```

**–≠–∫–æ–Ω–æ–º–∏—è:** -2 —ç–ª–µ–º–µ–Ω—Ç–∞, +1 –Ω–æ–≤—ã–π (LIMIT) = –∏—Ç–æ–≥–æ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π UI

---

### 6. Keyboard Shortcuts (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

| Shortcut | –î–µ–π—Å—Ç–≤–∏–µ |
|----------|---------|
| `S` | Cycle sort state (‚ü≤ ‚Üí AZ‚Üë ‚Üí ZA‚Üì) |
| `V` | Toggle all visibility |
| `F` | Clear all filters |
| `L` | Open LIMIT settings |
| `Esc` | Close modal |

---

### 7. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –¥–∏–∑–∞–π–Ω–µ—Ä–∞–º–∏

| –§–∏—á–∞ | Visual Designer | pgAdmin | DBeaver | MySQL Workbench |
|------|----------------|---------|---------|-----------------|
| –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | ‚úÖ 1 –∫–Ω–æ–ø–∫–∞ | ‚ùå 2 –∫–Ω–æ–ø–∫–∏ | ‚ùå –ú–µ–Ω—é | ‚ùå 2 –∫–Ω–æ–ø–∫–∏ |
| LIMIT –≤ toolbar | ‚úÖ | ‚ùå | ‚úÖ | ‚ùå |
| Filter grouping (AND/OR) | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Live SQL preview | ‚úÖ | ‚ùå | ‚úÖ | ‚úÖ |
| Quick presets | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |

---

### 8. –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

#### Toolbar –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å:
- **–î–æ:** 6 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (üëÅ + count + ‚ú± + AZ‚ñ≤ + ZA‚ñº + ‚ü≤)
- **–ü–æ—Å–ª–µ:** 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (üëÅ + count + üìä + ‚ú± + ‚ü≤)
- **–≠–∫–æ–Ω–æ–º–∏—è:** 16% –º–µ–Ω—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### –ö–ª–∏–∫–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ A‚ÜíZ:
- **–î–æ:** 1 –∫–ª–∏–∫ (–ø—Ä—è–º–æ–π –≤—ã–±–æ—Ä AZ‚ñ≤)
- **–ü–æ—Å–ª–µ:** 1 –∫–ª–∏–∫ (–ø–µ—Ä–≤—ã–π –∫–ª–∏–∫ –≤—Å–µ–≥–¥–∞ = AZ)
- **–†–∞–∑–Ω–∏—Ü–∞:** 0 (–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)

#### –ö–ª–∏–∫–∏ –¥–ª—è —Å–±—Ä–æ—Å–∞:
- **–î–æ:** 1 –∫–ª–∏–∫ (‚ü≤)
- **–ü–æ—Å–ª–µ:** –î–æ 3 –∫–ª–∏–∫–æ–≤ (AZ ‚Üí ZA ‚Üí ‚ü≤)
- **–ö–æ–º–ø—Ä–æ–º–∏—Å—Å:** –°–±—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∂–µ, —á–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

#### –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:
- **–î–æ:** –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–∏–Ω–∏–µ (–Ω–µ—Ç –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- **–ü–æ—Å–ª–µ:** –°–µ—Ä–∞—è (original) / –°–∏–Ω—è—è (sorted) ‚úÖ

---

### 9. User Feedback

#### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ:
- ‚úÖ "Toolbar —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ"
- ‚úÖ "–í–∏–∑—É–∞–ª—å–Ω–æ —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞"
- ‚úÖ "–ú–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"

#### –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ:
- ‚ö†Ô∏è "–ù—É–∂–Ω–æ –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å –∫ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–º—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é"
- ‚ö†Ô∏è "Tooltip –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É"

#### –£–ª—É—á—à–µ–Ω–∏—è:
- üí° –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üí° –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –≤ header –∫–æ–ª–æ–Ω–∫–∏ (—Å—Ç—Ä–µ–ª–∫–∏ ‚Üë‚Üì)
- üí° –°–æ—Ö—Ä–∞–Ω—è—Ç—å sortState –≤ localStorage

---

### 10. Roadmap

#### ‚úÖ Phase 2 (Done)
- –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã
- Visual feedback (—Ü–≤–µ—Ç + tooltip)

#### üöß Phase 3 (Next)
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –ø–æ–ª–µ–π
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ sortState –≤ localStorage
- [ ] Keyboard shortcuts

#### üí° Phase 4 (Future)
- [ ] Drag & drop –¥–ª—è —Ä—É—á–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ–ª–µ–π
- [ ] Multi-column sort (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º)
- [ ] Custom sort order templates

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Phase 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞!**

–£–ª—É—á—à–µ–Ω–∏—è UI:
- ‚úÖ –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π toolbar (-16% —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (—Ü–≤–µ—Ç + tooltip)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:
- ‚úÖ AND/OR –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ö–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä –∏–º–µ–µ—Ç logic: 'AND' | 'OR'
- ‚úÖ Tooltip –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üéØ

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞:** 2026-02-20
