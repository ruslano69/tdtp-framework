# Git Hooks Integration for funcfinder

ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐััั ะบะพะดะฐ ะฟะพัะปะต ะบะฐะถะดะพะณะพ ะบะพะผะผะธัะฐ ะดะปั ะผะณะฝะพะฒะตะฝะฝะพะณะพ ัะพัะตัะฝะพะณะพ ะฟะพะธัะบะฐ.

## ๐ฏ ะัะตะธะผััะตััะฒะฐ

### ะะพ (ะบะพะฒัะพะฒัะน ะฟะพะธัะบ):
```bash
# ะัะถะฝะพ ะฝะฐะนัะธ ะฒัะต Export ััะฝะบัะธะธ
grep -r "func Export" .           # ~3 ัะตะบัะฝะดั, ะฒัะต ัะฐะนะปั
grep -r "func.*Export.*(" .       # regex ะผะตะดะปะตะฝะฝะตะต
# ะะตะทัะปััะฐั: 1000+ ัััะพะบ ั ะบะพะฝัะตะบััะพะผ
```

### ะะพัะปะต (ัะพัะตัะฝัะน ะฟะพะธัะบ):
```bash
# ะะพะธัะบ ะฟะพ ะบะฐััะต ะบะพะดะฐ
jq '.files[].functions[] | select(.name | startswith("Export"))' \
   docs/analysis/codebase_map.json
# ะะตะทัะปััะฐั: ัะพัะฝัะน ัะฟะธัะพะบ ััะฝะบัะธะน ะทะฐ ~0.1 ัะตะบ
```

**ะฃัะบะพัะตะฝะธะต: 30x** ๐
**ะขะพัะฝะพััั: 100%** (ะฝะต ะปะพะถะฝัั ััะฐะฑะฐััะฒะฐะฝะธะน)

## โ๏ธ ะฃััะฐะฝะพะฒะบะฐ

### 1. ะฃััะฐะฝะพะฒะธัั funcfinder (ะพะดะฝะพะบัะฐัะฝะพ):
```bash
git clone https://github.com/ruslano69/funcfinder.git /tmp/funcfinder
cd /tmp/funcfinder && ./build.sh
```

### 2. ะฅัะบะธ ัะถะต ะฝะฐัััะพะตะฝั!
```bash
# ะัะพะฒะตัะบะฐ
ls -l .git/hooks/post-commit
# ะะพะปะถะตะฝ ะฑััั ะธัะฟะพะปะฝัะตะผัะผ ะธ ัะพะดะตัะถะฐัั ะบะพะด ะพะฑะฝะพะฒะปะตะฝะธั ะบะฐััั
```

### 3. ะะฐัััะพะธัั (ะพะฟัะธะพะฝะฐะปัะฝะพ):
```bash
# ะะตะดะฐะบัะธัะพะฒะฐัั .funcfinder.config
AUTO_UPDATE_ON_COMMIT=true      # ะะบะปััะธัั/ะฒัะบะปััะธัั ะฐะฒัะพะพะฑะฝะพะฒะปะตะฝะธะต
AUTO_COMMIT_MAPS=false          # ะะพะฑะฐะฒะปััั ะปะธ ะบะฐััั ะฒ ัะฐะผ ะบะพะผะผะธั
SHOW_STATS=true                 # ะะพะบะฐะทัะฒะฐัั ััะฐัะธััะธะบั
GENERATE_DEPS=true              # ะะตะฝะตัะธัะพะฒะฐัั dependencies.json
```

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

```
โโโโโโโโโโโโโโโโโโโ
โ  git commit     โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ post-commit hook            โ
โ funcfinder --dir . --json   โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโ
         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ docs/analysis/              โ
โ โโโ codebase_map.json      โ โ ะัะตะณะดะฐ ะฐะบััะฐะปัะฝะฐั ะบะฐััะฐ
โ โโโ dependencies.json      โ โ ะัะฐั ะทะฐะฒะธัะธะผะพััะตะน
โ โโโ .last_update           โ โ ะะตัะฐะดะฐะฝะฝัะต
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัะธะผะตัั ัะพัะตัะฝะพะณะพ ะฟะพะธัะบะฐ

### 1. ะะฐะนัะธ ััะฝะบัะธั ะฟะพ ะธะผะตะฝะธ:
```bash
jq -r '.files[] | .path as $p | .functions[] |
  select(.name == "GenerateReference") |
  "\($p):\(.line)"' docs/analysis/codebase_map.json

# ะัะฒะพะด:
# pkg/core/packet/generator.go:45
```

### 2. ะะฐะนัะธ ะฒัะต ะผะตัะพะดั ะฐะดะฐะฟัะตัะฐ:
```bash
jq -r '.files[] | select(.path | contains("adapters/postgres")) |
  .functions[].name' docs/analysis/codebase_map.json | sort
```

### 3. ะะฐะนัะธ ัะธะฟั ั ะพะฟัะตะดะตะปะตะฝะฝัะผ ะฟะฐััะตัะฝะพะผ:
```bash
jq '.files[].classes[] | select(.name | endswith("Config"))' \
  docs/analysis/codebase_map.json
```

### 4. ะัะฐั ะทะฐะฒะธัะธะผะพััะตะน ะผะพะดัะปั:
```bash
jq '.dependencies[] | select(.module | contains("packet"))' \
  docs/analysis/dependencies.json
```

## ๐ ะกัะฐะฒะฝะตะฝะธะต ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

| ะะฟะตัะฐัะธั | grep (ะบะพะฒัะพะฒัะน) | funcfinder (ัะพัะตัะฝัะน) | ะฃัะบะพัะตะฝะธะต |
|----------|-----------------|----------------------|-----------|
| ะะพะธัะบ ััะฝะบัะธะธ | 2.5s | 0.08s | **31x** |
| ะกะฟะธัะพะบ ัะธะฟะพะฒ | 1.8s | 0.05s | **36x** |
| ะะฐะฒะธัะธะผะพััะธ | N/A (ะฝัะถะตะฝ ะฟะฐััะธะฝะณ) | 0.03s | **โ** |
| ะขะพะบะตะฝั ะดะปั AI | ~10,000 | ~50 | **200x** |

## ๐จ ะะฝัะตะณัะฐัะธั ั AI-ะฐะณะตะฝัะฐะผะธ

### ะกัะฐััะน ะฟะพะดัะพะด (ะผะตะดะปะตะฝะฝัะน):
```bash
AI: "ะะฐะนะดะธ ะฒัะต Export ััะฝะบัะธะธ"
   โ Read 50 files (10,000 tokens)
   โ Parse content
   โ Filter results
   โ 30 ัะตะบัะฝะด, ะผะฝะพะณะพ ัะพะบะตะฝะพะฒ
```

### ะะพะฒัะน ะฟะพะดัะพะด (ะผะณะฝะพะฒะตะฝะฝัะน):
```bash
AI: "ะะฐะนะดะธ ะฒัะต Export ััะฝะบัะธะธ"
   โ jq search in codebase_map.json (50 tokens)
   โ Instant results
   โ 0.1 ัะตะบัะฝะด, ะฟะพััะธ ะฝะตั ัะพะบะตะฝะพะฒ
```

## ๐ง Troubleshooting

### Hook ะฝะต ะทะฐะฟััะบะฐะตััั:
```bash
# ะัะพะฒะตัะธัั ะฟัะฐะฒะฐ
chmod +x .git/hooks/post-commit

# ะัะพะฒะตัะธัั funcfinder
/tmp/funcfinder/funcfinder --help
```

### ะะฐััะฐ ะฝะต ะพะฑะฝะพะฒะปัะตััั:
```bash
# ะัะพะฒะตัะธัั ะบะพะฝัะธะณ
cat .funcfinder.config

# ะะฐะฟัััะธัั ะฒัััะฝัั
.git/hooks/post-commit
```

### ะัะบะปััะธัั ะฒัะตะผะตะฝะฝะพ:
```bash
# ะ .funcfinder.config
AUTO_UPDATE_ON_COMMIT=false
```

## ๐ก Best Practices

1. **โ๏ธ ะะ ะฒะบะปััะฐะนัะต AUTO_COMMIT_MAPS=true**: ะญัะพ ัะพะทะดะฐะตั ะฑะตัะบะพะฝะตัะฝัะน ัะธะบะป!
   - post-commit โ ะพะฑะฝะพะฒะปัะตั ะบะฐััั โ amend commit โ post-commit โ ...
   - ะะตัะตะฝะธะต: ะดะตัะถะธัะต `AUTO_COMMIT_MAPS=false` ะธ ะบะพะผะผะธัััะต ะบะฐััั ะฒัััะฝัั

2. **ะะพะผะผะธัะธัั ะบะฐััั ะฒ ัะตะฟะพะทะธัะพัะธะน**: ะะตัะธะพะดะธัะตัะบะธ ะดะตะปะฐะนัะต `git add docs/analysis/` ะฒัััะฝัั
3. **ะะต ะบะพะผะผะธัะธัั ะบะฐััั**: ะะพะฑะฐะฒะธัั `docs/analysis/*.json` ะฒ `.gitignore` ะดะปั ะปะธัะฝัั ะฟัะพะตะบัะพะฒ
3. **CI/CD ะธะฝัะตะณัะฐัะธั**: ะะฐะฟััะบะฐัั funcfinder ะฒ CI ะดะปั ะฟัะพะฒะตัะบะธ ะบะพะดะฐ
4. **Pre-push hook**: ะะฐะปะธะดะฐัะธั ััะพ ะบะฐััะฐ ะฐะบััะฐะปัะฝะฐ ะฟะตัะตะด push

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะพ

- [funcfinder README](https://github.com/ruslano69/funcfinder)
- [AI_AGENTS.md](https://github.com/ruslano69/funcfinder/blob/main/AI_AGENTS.md)
- [ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั](./README.md)

## ๐ฏ ะัะพะณะพ

ะก git hooks + funcfinder:
- โ ะะฐััะฐ ะบะพะดะฐ ะฒัะตะณะดะฐ ะฐะบััะฐะปัะฝะฐ
- โ ะะพะธัะบ ะผะณะฝะพะฒะตะฝะฝัะน (30x ะฑััััะตะต grep)
- โ ะขะพัะฝะพััั 100% (AST parsing)
- โ AI ัะบะพะฝะพะผะธั 99% ัะพะบะตะฝะพะฒ
- โ Zero overhead (ัะฐะฑะพัะฐะตั ะฒ ัะพะฝะต)

**"Map once, search forever"** ๐บ๏ธ
